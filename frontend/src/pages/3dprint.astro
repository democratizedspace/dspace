---
import Page from '../components/Page.astro';
import Card from '../components/Card.astro';
import { parseBool, getCookieValue } from '../utils';

const cookie = Astro.request.headers.get('cookie');
const accepted3DPrinter = parseBool(getCookieValue(cookie, 'accepted3DPrinter'));

if (accepted3DPrinter) {
	return Astro.redirect('/3dprinter-assemble');
}
---

<Page hideHome={true} hideSettings={true} message={accepted3DPrinter} message="This site currently uses cookies to save progress. Just letting you know. No personal information is collected right now, and if it is in the future, it'll be done with the upmost respect of your privacy. By accepting the 3D printer, you agree to this website storing cookies.">
	<Card
		href="/3dprinter-assemble"
		title="Accept 3D printer"
		body="Someone offers you a 3D printer. Do you accept?"
	/>
	<Card
		href="/"
		title="Reject offer"
		body="Go back home."
	/>
</Page>