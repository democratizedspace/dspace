---
import Page from '../../../components/Page.astro';
import QuestChat from '../svelte/QuestChat.svelte';

import { onMount } from 'svelte';


const quests = await Astro.glob('../json/*/*.json');


const { path, questId } = Astro.params;

console.log("questId: ", questId);
let quest;

onMount(() => {
        quest = quests.find((quest) => {
            return quest.default.id === questId;
        });
        
        console.log(quests);
    });

console.log("path: ", path);
console.log("hello");
---

<Page>
    <QuestChat quest={quest} />
</Page>