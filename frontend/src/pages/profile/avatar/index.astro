---
import Page from '../../../components/Page.astro';
import AvatarPicker from '../../../components/svelte/AvatarPicker.svelte';

const defaultPFPs = await Astro.glob('../../../../public/assets/pfp/*.jpg');

const assetUrls = defaultPFPs.map((url) => url.default.replace('/public', ''));

const randomizedPFPs = assetUrls.sort(() => Math.random() - 0.5);

const filteredPFPs = randomizedPFPs.filter((url) => url !== '/assets/pfp/default.jpg');
console.log("filteredPFPs: ", filteredPFPs);
---

<Page title="Choose your PFP">
    <AvatarPicker defaultPFPs={filteredPFPs} client:idle />
</Page>