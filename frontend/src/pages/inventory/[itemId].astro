---
import Page from '../../components/Page.astro';
import items from './json/items.json';
import Chip from '../../components/Chip.astro';
import { getCookie } from '../../utils';

const { itemId } = Astro.params;

const item = items.find((item) => item.id === itemId);

const { id, name, description, image, creationTitle } = item;

const itemCount = getCookie(Astro.request, `item-${itemId}`);
console.log("count: ", itemCount);
---

<Page columns="1"> 
    <h3>{name}</h3>
    <img src={image} alt={name} />
    <p>{description}</p>
    <Chip text={creationTitle} href={`/inventory/add/${id}`} />
    <p>Count: {itemCount}</p>
</Page>

<style>
    img {
        width: 200px;
    }

    a {
        text-decoration: none;
    }
</style>